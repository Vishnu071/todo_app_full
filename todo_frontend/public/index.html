<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, minimum-scale=1"
    />
    <title>To-Do App</title>
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header role="banner" class="container">
      <h1 tabindex="0">To-Do App</h1>
    </header>

    <main role="main" class="container">
      <section
        aria-labelledby="auth-section-label"
        class="auth-section"
        tabindex="-1"
      >
        <h2 id="auth-section-label" class="visually-hidden">
          User Authentication
        </h2>
        <input
          type="email"
          id="email"
          aria-label="Email address"
          placeholder="Email"
          autocomplete="username"
          required
        />
        <input
          type="password"
          id="password"
          aria-label="Password"
          placeholder="Password"
          autocomplete="current-password"
          required
        />
        <button type="button" onclick="register()">
          <span class="material-icons" aria-hidden="true">person_add</span>
          Register
        </button>
        <button type="button" onclick="login()">
          <span class="material-icons" aria-hidden="true">login</span> Login
        </button>
      </section>

      <section
        aria-labelledby="tasks-section-label"
        class="task-section hidden"
        tabindex="-1"
      >
        <h2 id="tasks-section-label" class="visually-hidden">
          Task Management
        </h2>
        <form
          class="controls"
          id="taskForm"
          onsubmit="event.preventDefault(); addTask();"
          aria-describedby="task-form-desc"
        >
          <p id="task-form-desc" class="visually-hidden">
            Form to add new tasks with title, description, deadline, and
            priority
          </p>
          <input
            type="text"
            id="title"
            aria-label="Task Title"
            placeholder="Task Title"
            required
            minlength="3"
            maxlength="100"
          />
          <input
            type="text"
            id="description"
            aria-label="Task Description"
            placeholder="Description"
            maxlength="300"
          />
          <input type="date" id="deadline" aria-label="Deadline" min="" />
          <select id="priority" aria-label="Priority Level" required>
            <option value="Low">Low Priority</option>
            <option value="Medium">Medium Priority</option>
            <option value="High">High Priority</option>
          </select>
          <button type="submit" aria-live="polite" aria-busy="false">
            <span class="material-icons" aria-hidden="true">add_task</span> Add
            Task
          </button>
          <button
            type="button"
            onclick="toggleDarkMode()"
            aria-pressed="false"
            aria-label="Toggle dark mode"
            id="darkModeToggle"
          >
            <span class="material-icons" aria-hidden="true">dark_mode</span>
            Toggle Dark Mode
          </button>
        </form>
        <div
          id="taskList"
          tabindex="0"
          aria-live="polite"
          aria-atomic="true"
          aria-relevant="additions removals"
        ></div>

        <div
          class="progress-bar-container"
          aria-label="Task completion progress"
        >
          <div
            class="progress-bar"
            id="progressBar"
            role="progressbar"
            aria-valuemin="0"
            aria-valuemax="100"
            aria-valuenow="0"
          ></div>
        </div>
      </section>
    </main>

    <audio
      id="sound"
      src="https://www.soundjay.com/buttons/sounds/button-3.mp3"
      preload="auto"
      aria-hidden="true"
    ></audio>

    <script src="auth.js"></script>
    <script src="api.js"></script>
    <script src="script.js"></script>
  </body>
</html>
